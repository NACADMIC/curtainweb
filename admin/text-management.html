<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>텍스트 관리 - 유명커튼블라인드</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        button { padding: 10px 20px; background: #333; color: white; border: none; cursor: pointer; margin: 5px; }
        .text-section { background: white; padding: 20px; margin-bottom: 20px; border: 1px solid #ddd; border-radius: 8px; }
        input, textarea { width: 100%; padding: 10px; margin: 10px 0; box-sizing: border-box; }
        textarea { min-height: 100px; }
        .save-btn { background: #4CAF50; }
    </style>
</head>
<body>
    <div class="header">
        <h1>텍스트 관리</h1>
        <button onclick="location.href='dashboard.html'">← 대시보드</button>
    </div>

    <div class="text-section">
        <h2>메인 제목</h2>
        <input type="text" id="mainTitle" placeholder="메인 제목">
        <textarea id="mainDescription" placeholder="메인 설명"></textarea>
        <button class="save-btn" onclick="saveText('main')">저장</button>
    </div>

    <div class="text-section">
        <h2>회사 소개</h2>
        <textarea id="aboutText" placeholder="회사 소개"></textarea>
        <button class="save-btn" onclick="saveText('about')">저장</button>
    </div>

    <div class="text-section">
        <h2>연락처 정보</h2>
        <input type="text" id="phone" placeholder="전화번호">
        <input type="text" id="email" placeholder="이메일">
        <input type="text" id="address" placeholder="주소">
        <button class="save-btn" onclick="saveText('contact')">저장</button>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyCM8IflmHHgMaFseEoPPsECsLxsSAjj1Vw",
            authDomain: "curtainweb.firebaseapp.com",
            projectId: "curtainweb",
            storageBucket: "curtainweb.firebasestorage.app",
            messagingSenderId: "1004027071653",
            appId: "1:1004027071653:web:f29be419700c6302b6114c"
        };
        
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        async function loadTexts() {
            const doc = await db.collection('site-settings').doc('texts').get();
            if (doc.exists) {
                const data = doc.data();
                document.getElementById('mainTitle').value = data.mainTitle || '';
                document.getElementById('mainDescription').value = data.mainDescription || '';
                document.getElementById('aboutText').value = data.aboutText || '';
                document.getElementById('phone').value = data.phone || '';
                document.getElementById('email').value = data.email || '';
                document.getElementById('address').value = data.address || '';
            }
        }

        async function saveText(section) {
            const data = {};
            
            if (section === 'main') {
                data.mainTitle = document.getElementById('mainTitle').value;
                data.mainDescription = document.getElementById('mainDescription').value;
            } else if (section === 'about') {
                data.aboutText = document.getElementById('aboutText').value;
            } else if (section === 'contact') {
                data.phone = document.getElementById('phone').value;
                data.email = document.getElementById('email').value;
                data.address = document.getElementById('address').value;
            }
            
            await db.collection('site-settings').doc('texts').set(data, { merge: true });
            alert('저장되었습니다.');
        }

        loadTexts();
    </script>
</body>
</html>
