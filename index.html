<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>유명커튼블라인드</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
        (function(){
            emailjs.init("YOUR_PUBLIC_KEY"); // EmailJS 공개 키를 여기에 입력하세요
        })();
    </script>
    <style>
        .main-visual {
            position: relative;
            width: 100%;
            height: 760px; /* 380px의 두 배로 설정 */
            overflow: hidden;
            margin-bottom: 30px;
        }

        .main-visual img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: brightness(0.8);
        }

        .features {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            padding: 40px 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .feature-item {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .feature-item img {
            width: 100%;
            height: 250px;
            object-fit: cover;
        }

        .feature-text {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 20px;
            background: rgba(0,0,0,0.7);
            color: white;
        }

        .feature-text h3 {
            margin: 0 0 5px 0;
            font-size: 1.2em;
        }

        .feature-text p {
            margin: 0;
            font-size: 0.9em;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-storage-compat.js"></script>

    <script>
    const firebaseConfig = {
    apiKey: "AIzaSyAFfU5MOxvIh9RKrQQ51cuzDZnCB-97GiQ",
    authDomain: "curtainweb-7fc08.firebaseapp.com",
    projectId: "curtainweb-7fc08",
    storageBucket: "curtainweb-7fc08.firebasestorage.app",
    messagingSenderId: "866400998037",
    appId: "1:866400998037:web:4350252c7e8cf6e6f2819c",
    measurementId: "G-PVBBZ3SV9W"
  };

    // Firebase 초기화
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    console.log('✅ Firebase 초기화 완료');
    </script>

    <header class="header">
        <div class="container">
            <h1><a href="index.html" class="logo-text">유명커튼블라인드</a></h1>
            <nav>
                <ul class="nav-menu">
                    <li><a href="pages/curtains.html">커튼</a></li>
                    <li><a href="pages/blinds.html">블라인드</a></li>
                    <li><a href="pages/portfolio.html">시공사례</a></li>
                    <li><a href="pages/contact.html">상담신청</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section class="main-visual">
            <div class="main-visual">
                <img src="https://images.pexels.com/photos/1082355/pexels-photo-1082355.jpeg" alt="메인 비주얼">
                <div class="main-text">
                    <h2>프리미엄 커튼으로 특별한 공간을 만듭니다</h2>
                    <p>고객님의 간에 어울리는 맞형 디자인을 제안해드립니다</p>
                </div>
            </div>
        </section>

        <section id="products" class="products">
            <div class="container">
                <h3 class="section-title">인기 제품</h3>
                <div class="product-grid">
                    <div class="product-card">
                        <img src="https://images.unsplash.com/photo-1505692952047-1a78307da8f2" alt="프리미엄 린넨커튼">
                        <h4>프리미엄 린넨커튼</h4>
                        <p>100% 내추럴 린넨 원단</p>
                        <button class="product-btn" onclick="location.href='pages/curtains.html'">상세보기</button>
                    </div>
                    <div class="product-card">
                        <img src="https://images.unsplash.com/photo-1513519245088-0e12902e35ca" alt="블랙아웃 커튼">
                        <h4>차광 블랙아웃</h4>
                        <p>99.9% 빛차단 특수원단</p>
                        <button class="product-btn" onclick="location.href='pages/curtains.html'">상세보기</button>
                    </div>
                    <div class="product-card">
                        <img src="https://images.unsplash.com/photo-1540518614846-7eded433c457" alt="쉬어커튼">
                        <h4>쉬어커튼</h4>
                        <p>은은한 채광 효</p>
                        <button class="product-btn" onclick="location.href='pages/curtains.html'">상세보기</button>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="contact">
            <div class="container">
                <h3>무료 방문견적 상담신청</h3>
                <form id="contactForm" class="contact-form">
                    <input type="text" name="name" placeholder="이름" required>
                    <input type="tel" name="phone" placeholder="연락처" required>
                    <input type="text" name="address" placeholder="주소" required>
                    <textarea name="message" placeholder="문의사항을 입력해주세요" required></textarea>
                    <button type="submit">신청하기</button>
                </form>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="company-info">
                <p>상호: 유명커튼블라인드 | 대표:김도범</p>
                <p>대표번호: 02-588-2389</p>
                <p>주소:서울시 서초구 방배천로 16길 18.</p>
                <div class="admin-access">
                    <button onclick="location.href='admin/login.html'" class="admin-btn">
                        관리자
                    </button>
                </div>
            </div>
        </div>
    </footer>

    <div id="adminModal" 
         style="display: none; 
                position: fixed; 
                top: 50%; 
                left: 50%; 
                transform: translate(-50%, -50%); 
                background: white; 
                padding: 20px; 
                border-radius: 8px; 
                box-shadow: 0 0 10px rgba(0,0,0,0.1); 
                z-index: 1000;">
        <h3 style="margin-bottom: 15px;">관리자 로그인</h3>
        <form id="adminLoginForm" style="display: flex; flex-direction: column; gap: 10px;">
            <input type="text" id="adminId" placeholder="아이디" required 
                   style="padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
            <input type="password" id="adminPw" placeholder="비밀번호" required 
                   style="padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
            <button type="submit" 
                    style="padding: 8px; background: #333; color: white; border: none; border-radius: 4px; cursor: pointer;">
                로그인
            </button>
            <button type="button" onclick="closeAdminModal()" 
                    style="padding: 8px; background: #ddd; border: none; border-radius: 4px; cursor: pointer;">
                취소
            </button>
        </form>
    </div>

    <div id="modalOverlay" 
         style="display: none; 
                position: fixed; 
                top: 0; 
                left: 0; 
                width: 100%; 
                height: 100%; 
                background: rgba(0,0,0,0.5); 
                z-index: 999;">
    </div>

    <script src="js/main.js"></script>
    <script>
        let logoClickCount = 0;
        document.getElementById('adminAccess').addEventListener('click', function() {
            logoClickCount++;
            if(logoClickCount === 5) {
                window.location.href = '/admin/login.html';
                logoClickCount = 0;
            }
        });

        function showAdminLogin() {
            document.getElementById('adminModal').style.display = 'block';
            document.getElementById('modalOverlay').style.display = 'block';
        }

        function closeAdminModal() {
            document.getElementById('adminModal').style.display = 'none';
            document.getElementById('modalOverlay').style.display = 'none';
        }

        document.getElementById('adminLoginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const id = document.getElementById('adminId').value;
            const pw = document.getElementById('adminPw').value;

            if(id === 'admin' && pw === '1234') {
                alert('관리자 로그인 성공!');
                window.location.href = 'admin/dashboard.html';
            } else {
                alert('아이디 또는 비밀번호가 잘못되었습니다.');
            }
        });

        document.getElementById('modalOverlay').addEventListener('click', closeAdminModal);

        document.getElementById('contactForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            const form = e.target;
            const formData = new FormData(form);
            
            // 버튼 비활성화
            const submitBtn = form.querySelector('button[type="submit"]');
            submitBtn.disabled = true;
            submitBtn.textContent = '전송 중...';
            
            try {
                // EmailJS로 이메일 전송
                await emailjs.send(
                    'YOUR_SERVICE_ID',      // EmailJS 서비스 ID
                    'YOUR_TEMPLATE_ID',     // EmailJS 템플릿 ID
                    {
                        to_email: 'okyoucandoit@hanmail.net',
                        from_name: formData.get('name'),
                        phone: formData.get('phone'),
                        address: formData.get('address'),
                        message: formData.get('message')
                    }
                );
                
                // Firebase에도 저장 (선택사항)
                await firebase.firestore().collection('inquiries').add({
                    name: formData.get('name'),
                    phone: formData.get('phone'),
                    address: formData.get('address'),
                    message: formData.get('message'),
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                
                alert('문의가 접수되었습니다. 빠른 시일 내에 연락드리겠습니다.');
                form.reset();
            } catch (error) {
                console.error('문의 접수 실패:', error);
                alert('문의 접수에 실패했습니다. 다시 시도해주세요.');
            } finally {
                // 버튼 활성화
                submitBtn.disabled = false;
                submitBtn.textContent = '신청하기';
            }
        });
    </script>

    <div class="floating-call">
        <a href="tel:02-588-2389" class="call-button">
            <i class="fas fa-phone"></i>
            <span class="call-text">02-588-2389</span>
        </a>
    </div>
</body>
</html>